#pragma once
#include<string>
#include<vector>
#include"Npc.h"

enum Map_no
{
	World,
	town1,
	town2,
	town3

};

struct Square_data
{
	std::string square_str;
	std::string content;
	std::string name;
};

struct PositionData
{
	int X = -1;
	int Y = -1;
	int vec_X, vec_Y;
};

const int MapNum = 3;

const int MAX_map_x = 20;
const int MAX_map_y = 20;

const int Draw_limit = 10;

const std::string map_default[MapNum][MAX_map_y][MAX_map_x] = 
									{// world
											{//town1
												{ "Å°","Å°", "Å°", "Å°", "Å°", "Å°","Å°", "Å°", "Å°", "Å°","Å°","Å°", "Å°", "Å°", "Å°", "Å°","Å°", "Å°", "Å°", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å•", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å°", "Å°", "Å°", "Å°", "Å°","Å°", "Å°", "Å°", "Å°","Å°","Å°", "Å°", "Å°", "Å°", "Å°","Å°", "Å°", "Å°", "Å°" }
											}, 
											
											{//town2	
												{ "Å°","Å°", "Å°", "Å°", "Å°", "Å°","Å°", "Å°", "Å°", "Å°","Å°","Å°", "Å°", "Å°", "Å°", "Å°","Å°", "Å°", "Å°", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å•", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å°", "Å°", "Å°", "Å°", "Å°","Å°", "Å°", "Å°", "Å°","Å°","Å°", "Å°", "Å°", "Å°", "Å°","Å°", "Å°", "Å°", "Å°" }
											},

											{//town3	
												{ "Å°","Å°", "Å°", "Å°", "Å°", "Å°","Å°", "Å°", "Å°", "Å°","Å°","Å°", "Å°", "Å°", "Å°", "Å°","Å°", "Å°", "Å°", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å•","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å°", "Å°", "Å°", "Å°", "Å°","Å°", "Å°", "Å°", "Å°","Å°","Å°", "Å°", "Å°", "Å°", "Å°","Å°", "Å°", "Å°", "Å°" } 
											}

									};


class Map
{
public:
	Map();
	~Map();

	void Init();
	void Main();
	void Draw();
	void Draw(int player_pos_y,int player_pos_x);
	void Destroy();
	PositionData MapChange(int x, int y, int vec_x, int vec_y);

	std::string GetMap(int y, int x) { return map[y][x]; }
	Square_data GetSquare(int y, int x);
	
	void SetMap(int y, int x, std::string str) { map[y][x] = str; }
private:
	std::string map[MAX_map_y][MAX_map_x] = {	{ "Å°","Å°", "Å°", "Å°", "Å°", "Å°","Å°", "Å°", "Å°", "Å°","Å°","Å°", "Å°", "Å°", "Å°", "Å°","Å°", "Å°", "Å°", "Å°" },
												{ "Å°","Å†", "N", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "N", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "N", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å†","Å†","Å†", "Å†", "Å†", "Å†", "Å†","Å†", "Å†", "Å†", "Å°" },
												{ "Å°","Å°", "Å°", "Å°", "Å°", "Å°","Å°", "Å°", "Å°", "Å°","Å°","Å°", "Å°", "Å°", "Å°", "Å°","Å°", "Å°", "Å°", "Å°" } };


	//Npc npcs[3];
	std::vector<Npc> npcs;
	Map_no mn = town2;
};